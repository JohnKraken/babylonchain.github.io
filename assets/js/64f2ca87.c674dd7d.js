"use strict";(self.webpackChunkdocument_sample=self.webpackChunkdocument_sample||[]).push([[9858],{3905:(e,t,n)=>{n.d(t,{Zo:()=>h,kt:()=>u});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),s=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},h=function(e){var t=s(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,h=c(e,["components","mdxType","originalType","parentName"]),p=s(n),u=i,m=p["".concat(l,".").concat(u)]||p[u]||d[u]||o;return n?a.createElement(m,r(r({ref:t},h),{},{components:n})):a.createElement(m,r({ref:t},h))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=p;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:i,r[1]=c;for(var s=2;s<o;s++)r[s]=n[s];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},18188:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>c,toc:()=>s});var a=n(87462),i=(n(67294),n(3905));const o={id:"architecture",sidebar_label:"Architecture",hide_table_of_contents:!0},r="Babylon Architecture",c={unversionedId:"introduction/btc-timestamping/architecture",id:"introduction/btc-timestamping/architecture",title:"Babylon Architecture",description:"Examine the components and modules that construct Babylon.",source:"@site/docs/introduction/btc-timestamping/architecture.md",sourceDirName:"introduction/btc-timestamping",slug:"/introduction/btc-timestamping/architecture",permalink:"/docs/introduction/btc-timestamping/architecture",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/introduction/btc-timestamping/architecture.md",tags:[],version:"current",frontMatter:{id:"architecture",sidebar_label:"Architecture",hide_table_of_contents:!0},sidebar:"docs",previous:{title:"A Primary Usecase - Securing PoS Chains",permalink:"/docs/introduction/btc-timestamping/use-case"},next:{title:"FAQ",permalink:"/docs/faq/overview"}},l={},s=[{value:'Epoching <a id="epoch"></a>',id:"epoching-",level:2},{value:'Checkpointing <a id="checkpoint"></a>',id:"checkpointing-",level:2},{value:'Vigilante Submitter <a id="sub"></a>',id:"vigilante-submitter-",level:2},{value:'Vigilante Reporter <a id="rep"></a>',id:"vigilante-reporter-",level:2},{value:'BTCCheckpoint <a id="check"></a>',id:"btccheckpoint-",level:2},{value:'BTCLightClient <a id="light"></a>',id:"btclightclient-",level:2},{value:'Vigilante Master Monitor <a id="master"></a>',id:"vigilante-master-monitor-",level:2},{value:'IBC relayer <a id="layer"></a>',id:"ibc-relayer-",level:2},{value:'IBC light client <a id="client"></a>',id:"ibc-light-client-",level:2},{value:'CZConcierge <a id="cz"></a>',id:"czconcierge-",level:2}],h={toc:s};function d(e){let{components:t,...o}=e;return(0,i.kt)("wrapper",(0,a.Z)({},h,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"babylon-architecture"},"Babylon Architecture"),(0,i.kt)("p",null,"Examine the components and modules that construct Babylon."),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Architecture",src:n(11693).Z,width:"6196",height:"4834"})),(0,i.kt)("h2",{id:"epoching-"},"Epoching ",(0,i.kt)("a",{id:"epoch"})),(0,i.kt)("p",null,"A new Cosmos app module for Babylon. It epoches the Babylon blocks, and within each epoch the validator set does not change. It achieves this by delaying the execution of validator-set-changing transactions to the last block of each epoch. This way, Babylon only needs to checkpoint one block per epoch to BTC, which reduces the checkpointing costs."),(0,i.kt)("h2",{id:"checkpointing-"},"Checkpointing ",(0,i.kt)("a",{id:"checkpoint"})),(0,i.kt)("p",null,"A new Cosmos app module for Babylon. It collects the BLS signatures of Babylon validators on each block to be checkpointed and aggregate them into a BLS multiSig, and prepare a checkppoint accordingly. It then maintains the confirmation status of each checkpoint and the associated epoch according to the status provided by the btccheckpoint module."),(0,i.kt)("h2",{id:"vigilante-submitter-"},"Vigilante Submitter ",(0,i.kt)("a",{id:"sub"})),(0,i.kt)("p",null,"A standalone program that submits the Babylon checkpoints to BTC as BTC op_return transactions."),(0,i.kt)("h2",{id:"vigilante-reporter-"},"Vigilante Reporter ",(0,i.kt)("a",{id:"rep"})),(0,i.kt)("p",null,"A standalone program that scans BTC ledger for Babylon\u2019s BTC checkpoints, and reports them back to Babylon as Babylon transactions. It also reports BTC headers to Babylon as Babylon transactions."),(0,i.kt)("h2",{id:"btccheckpoint-"},"BTCCheckpoint ",(0,i.kt)("a",{id:"check"})),(0,i.kt)("p",null,"A new Cosmos app module for Babylon. It verifies the Babylon\u2019s BTC checkpoints reported by the vigilante reporter, and provides the confirmation status of these checkpoints to the checkpointing module based on their depth according to the on-chain BTC light client. "),(0,i.kt)("h2",{id:"btclightclient-"},"BTCLightClient ",(0,i.kt)("a",{id:"light"})),(0,i.kt)("p",null,"A new Cosmos app module for Babylon. This module maintains a BTC header chain and validates if a BTC block is part of the canonical BTC chain, its depth, and whether the inclusion evidence for a Bitcoin transaction is valid."),(0,i.kt)("h2",{id:"vigilante-master-monitor-"},"Vigilante Master Monitor ",(0,i.kt)("a",{id:"master"})),(0,i.kt)("p",null,"A standalone program that monitors:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"The consistency between the realworld BTC caononical chain and the BTC header chain maintained by  Babylon\u2019s btclightclient module")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Whether all Babylon\u2019s BTC checkpoints have been included in Babylon the ledger on time so that all Babylon nodes can see them."))),(0,i.kt)("h2",{id:"ibc-relayer-"},"IBC relayer ",(0,i.kt)("a",{id:"layer"})),(0,i.kt)("p",null,"A standard Cosmos program that enables interchain communicaton. Its default client update function sends a Cosmos zone (CZ)'s headers to Babylon as Babylon transactions, making it a natural checkpointing mechanism."),(0,i.kt)("h2",{id:"ibc-light-client-"},"IBC light client ",(0,i.kt)("a",{id:"client"})),(0,i.kt)("p",null,"A standard Cosmos app module residing in Babylon. It verifies the CZ headers shared by the IBC relayer and uses the verified CZ headers to further verify CZ transactions."),(0,i.kt)("h2",{id:"czconcierge-"},"CZConcierge ",(0,i.kt)("a",{id:"cz"})),(0,i.kt)("p",null,"A new Cosmos app module for Babyon. It extracts verified CZ headers from the IBC light client and maintain their BTC-confirmaton status based on the BTC-confirmation status of the Babylon transactons that carry them."))}d.isMDXComponent=!0},11693:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/architecture-af00abaef8ecf0dcc6bd2a8c51fa187b.png"}}]);